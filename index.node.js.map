{"version":3,"file":null,"sources":["node_modules/ubc-farm-utils/function/start-server.js","dirname.js","server/routes/analytics.js","server/routes/css-core.js","server/routes/css-partials.js","node_modules/ubc-farm-utils/function/promisify.js","node_modules/ubc-farm-utils/calendar/compare.js","server/find-folder.js","server/routes/pages.js","server/routes/modules.js","server/index.js","index.js"],"sourcesContent":["/*eslint no-console: \"off\"*/\r\n\r\nexport default function startServer(server, name) {\r\n\tprocess.title = name;\r\n\r\n\tserver.start().then(() => {\r\n\t\tconsole.log(`[+] ${name} server running at: ${server.info.uri}`);\r\n\t}).catch(err => {\r\n\t\tconsole.error(`[X] ${name} server issue: ${err}`)\r\n\t})\r\n}","export default __dirname;","export default {\r\n\tmethod: 'GET',\r\n\tpath: '/js/analytics.js',\r\n\thandler: {\r\n\t\tfile: 'assets/analytics.js'\r\n\t}\r\n}","export const core = {\r\n\tmethod: 'GET',\r\n\tpath: '/css/core/{param*}',\r\n\thandler: {\r\n\t\tdirectory: {\r\n\t\t\tpath: 'node_modules/ubc-farm-css/src',\r\n\t\t\tlisting: true,\r\n\t\t\tdefaultExtension: 'css',\r\n\t\t\tindex: false\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const coreMin = {\r\n\tmethod: 'GET',\r\n\tpath: '/css/core/min.css',\r\n\thandler: {\r\n\t\tfile: 'node_modules/ubc-farm-css/min.css'\r\n\t}\r\n}\r\n\r\nexport const coreIndex = Object.assign({}, coreMin, {\r\n\tpath: '/css/core/index.css'\r\n});\r\n\r\nexport default [core, coreMin, coreIndex];","export default {\r\n\tmethod: 'GET',\r\n\tpath: '/css/partials/{param}',\r\n\thandler: {\r\n\t\tdirectory: {\r\n\t\t\tpath: 'node_modules/ubc-farm-views-utils/partials/css',\r\n\t\t\tlisting: true,\r\n\t\t\tdefaultExtension: 'css',\r\n\t\t\tindex: false\r\n\t\t}\r\n\t}\r\n}","function isPromise(thing) {\r\n\treturn (typeof thing === 'object' || typeof thing === 'function')\r\n\t&& typeof thing.res === 'function';\r\n}\r\n\r\nexport default function promisify(func) {\r\n\treturn function(...args) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\targs.push((err, result) => {\r\n\t\t\t\tif (err) reject(err);\r\n\t\t\t\telse resolve(result);\r\n\t\t\t});\r\n\r\n\t\t\tconst result = func.call(this, ...args);\r\n\t\t\tif (isPromise(result)) resolve(result);\r\n\t\t})\r\n\t}\r\n}","/**\r\n * Enum for date fidelity levels\r\n * @enum\r\n */\r\nexport const Fidelity = {\r\n\tYEAR: 1,\r\n\tMONTH: 2,\r\n\tDAY: 3,\r\n\tHOUR: 4,\r\n\tMINUTE: 5,\r\n\tSECOND: 6,\r\n\tMILLISECOND: 7\r\n}\r\n\r\nconst dateGets = [\r\n\t'getFullYear',\r\n\t'getMonth',\r\n\t'getDate',\r\n\t'getHours',\r\n\t'getMinutes',\r\n\t'getSeconds',\r\n\t'getMilliseconds'\r\n]\r\n\r\nconst labels = dateGets\r\n\t.map(f => f.substr(3).toLowerCase())\r\n\t.map(f => f.endsWith('s') ? f.slice(-1) : f);\r\n\r\n/**\r\n * Compares two dates at higher and higher fidelities.\r\n * @param {Date} date1\r\n * @param {Date} date2\r\n * @param {number} max - how exact to check the dates\r\n * @returns {Generator<boolean|Object>} returns an object when .return is called\r\n */\r\nexport function* comparinator(date1, date2, max = 7) {\r\n\tconst call = (i, thisArg) => Date.prototype[dateGets[i]].call(thisArg);\r\n\tlet c = {};\r\n\ttry {\r\n\t\tfor (let fidelity = 0; fidelity <= max; fidelity++) {\r\n\t\t\tconst label = labels[fidelity];\r\n\t\t\tyield c[label] = call(fidelity, date1) === call(fidelity, date2);\r\n\t\t}\r\n\t} finally {\r\n\t\treturn c;\r\n\t}\r\n}\r\n\r\n/**\r\n * Compares two dates and returns an object with boolean values\r\n * @param {Date} date1\r\n * @param {Date} date2\r\n * @param {number} fidelity - how exact to check the dates\r\n * @returns {Object}\r\n */\r\nexport function compare(date1, date2, fidelity = 3) {\r\n\tif (fidelity < 0 || fidelity > 7)\r\n\t\tthrow TypeError('fidelity must be between 0-7');\r\n\t\r\n\tconst gen = comparinator(date1, date2);\r\n\tfor (let i = 0; i < fidelity; i++) gen.next();\r\n\treturn gen.return().value;\r\n}\r\n\r\n/**\r\n * Checks if two dates are equal up to the given fidelity.\r\n * Higher fidelity will cause the dates to be checked in greater detail\r\n * @param {Date} date1\r\n * @param {Date} date2\r\n * @returns {boolean}\r\n */\r\nexport function equal(date1, date2, fidelity = Fidelity.DAY) {\r\n\tif (fidelity >= Fidelity.MILLISECOND) return Number(date1) === Number(date2);\r\n\r\n\tconst gen = comparinator(date1, date2);\r\n\tfor (let i = 0; i < fidelity; i++) {\r\n\t\tconst {value} = gen.next();\r\n\t\tif (!value) return value;\r\n\t}\r\n\treturn true;\r\n}\r\n\r\n/**\r\n * Checks if both dates are in the same half of a day in a 12-hour clock.\r\n * Only the time is considered; differences in the year/month/date are ignored\r\n * @param {Date} date1\r\n * @param {Date} date2 \r\n * @returns {string} '' if false, or either 'AM' or 'PM' \r\n */\r\nexport function sameHalf(date1, date2) {\r\n\tconst m1 = date1.getHours() < 12 ? 'AM' : 'PM', \r\n\t      m2 = date2.getHours() < 12 ? 'AM' : 'PM';\r\n\tif (m1 === m2) return m1;\r\n\telse return '';\r\n}","import {resolve as resolvePath, join} from 'path';\r\nimport {stat as statNode} from 'fs';\r\nimport {promisify} from '../node_modules/ubc-farm-utils/index.js';\r\n\r\nconst stat = promisify(statNode);\r\n\r\nfunction doesPathExist(path) {\r\n\treturn stat(path)\r\n\t.then(() => true)\r\n\t.catch(err => {\r\n\t\tif (err.code === 'ENOENT') return false;\r\n\t\telse throw err;\r\n\t});\r\n}\r\n\r\n/**\r\n * Tries to recursively find the given folder(s) by searching using fs.stat\r\n * @returns {Promise<string>} undefined if no path is ever found\r\n */\r\nexport default function search(folder, ...potentialNames) {\r\n\tif (folder === resolvePath('/')) return Promise.resolve(undefined);\r\n\r\n\tconst potentialPaths = potentialNames.map(name => join(folder, name));\r\n\t\r\n\tconst checkExists = Promise.all(potentialPaths.map(p => doesPathExist(p)));\r\n\t\r\n\treturn checkExists.then(results => {\r\n\t\tif (results.every(v => v === false)) {\r\n\t\t\tconst upOnePath = resolvePath(folder, '../');\r\n\t\t\treturn search(upOnePath, ...potentialNames);\r\n\t\t} else {\r\n\t\t\tconst index = results.findIndex(v => v === true);\r\n\t\t\tconst foundPath = potentialPaths[index];\r\n\t\t\treturn foundPath;\r\n\t\t}\r\n\t});\r\n}","import { join } from 'path';\r\nimport __dirname from '../../dirname.js';\r\nimport search from '../find-folder.js';\r\n\r\nfunction cssRoute(pagename, folder) {\r\n\treturn {\r\n\t\tmethod: 'GET',\r\n\t\tpath: `/css/page/${pagename}/{param*}`,\r\n\t\thandler: {\r\n\t\t\tdirectory: {\r\n\t\t\t\tpath: join(folder, 'styles'),\r\n\t\t\t\tlisting: true,\r\n\t\t\t\tdefaultExtension: 'css',\r\n\t\t\t\tindex: false,\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n}\r\n\r\nfunction javascriptRoute(pagename, folder) {\r\n\t// eslint-disable-next-line global-require\r\n\tconst pkg = require(join(folder, 'package.json'));\r\n\tconst { browser: main = 'dist/index.iife.js' } = pkg;\r\n\r\n\treturn [\r\n\t\t{\r\n\t\t\tmethod: 'GET',\r\n\t\t\tpath: `/js/page/${pagename}/{param*}`,\r\n\t\t\thandler: {\r\n\t\t\t\tdirectory: {\r\n\t\t\t\t\tpath: join(folder, 'dist'),\r\n\t\t\t\t\tlisting: true,\r\n\t\t\t\t\tdefaultExtension: 'js',\r\n\t\t\t\t\tindex: false,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tmethod: 'GET',\r\n\t\t\tpath: `/js/page/${pagename}/index.js`,\r\n\t\t\thandler: {\r\n\t\t\t\tfile: {\r\n\t\t\t\t\tpath: join(folder, main),\r\n\t\t\t\t\tconfine: false,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t];\r\n}\r\n\r\nconst folder = join(__dirname, 'node_modules');\r\nfunction searchForRouteFolders(pagename) {\r\n\treturn search(folder, `ubc-farm-page-${pagename}`, `page-${pagename}`)\r\n\t\t.then(path => {\r\n\t\t\tif (path === undefined) throw new Error(`${pagename} not found`);\r\n\t\t\treturn [...javascriptRoute(pagename, path), cssRoute(pagename, path)];\r\n\t\t});\r\n}\r\n\r\nconst pageList = [\r\n\t'calendar',\r\n\t'directory',\r\n\t'fields',\r\n\t'invoice',\r\n\t'map-editor',\r\n\t'add-items',\r\n];\r\n\r\nconst routes = Promise.all(pageList.map(searchForRouteFolders));\r\n\r\nexport default routes.then(r => r.reduce(\r\n\t(allRoutes = [], additional) => [...allRoutes, ...additional]\r\n));\r\n","import {join} from 'path';\r\nimport __dirname from '../../dirname.js'\r\nimport search from '../find-folder.js';\r\n\r\nconst folder = join(__dirname, 'node_modules');\r\nfunction searchModule(name) {\r\n\treturn search(folder, `ubc-farm-${name}`, name).then(path => {\r\n\t\tif (path === undefined) throw new Error(`Could not find ${name}`);\r\n\t\telse return path;\r\n\t})\r\n}\r\n\r\nconst method = 'GET', listing = true, index = false;\r\n\r\nconst tableBase = searchModule('table-base').then(folder => ({\r\n\tmethod, path: '/css/module/table-base/{param*}',\r\n\thandler: {\r\n\t\tdirectory: {\r\n\t\t\tpath: join(folder, 'styles'),\r\n\t\t\tlisting, index,\r\n\t\t\tdefaultExtension: 'css'\r\n\t\t}\r\n\t}\r\n}))\r\n\r\nconst datetime = searchModule('datetime-picker').then(folder => ({\r\n\tmethod, path: '/css/module/datetime-picker/{param*}',\r\n\thandler: {\r\n\t\tdirectory: {\r\n\t\t\tpath: join(folder, 'styles'),\r\n\t\t\tlisting, index,\r\n\t\t\tdefaultExtension: 'css'\r\n\t\t}\r\n\t}\r\n}))\r\n\r\nconst ports = searchModule('ports').then(folder => {\r\n\tconst tape = {\r\n\t\tmethod, path: '/js/module/tape/{file?}',\r\n\t\thandler: {\r\n\t\t\tfile: {\r\n\t\t\t\tpath: join(folder, 'tape/index.js'),\r\n\t\t\t\tconfine: false\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst visTimelineCss = {\r\n\t\tmethod, path: '/css/module/vis-timeline/{param*}',\r\n\t\thandler: {\r\n\t\t\tdirectory: {\r\n\t\t\t\tpath: join(folder, 'vis-timeline/dist'),\r\n\t\t\t\tindex, listing: false,\r\n\t\t\t\tdefaultExtension: 'css'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst visTimelineJs = {\r\n\t\tmethod,\r\n\t\tpath: '/js' + visTimelineCss.path.substr('/css'.length),\r\n\t\thandler: {\r\n\t\t\tdirectory: Object.assign({}, visTimelineCss.handler.directory, {\r\n\t\t\t\tdefaultExtension: 'js'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\treturn [tape, visTimelineCss, visTimelineJs];\r\n})\r\n\r\nconst all = Promise.all([tableBase, datetime, ports])\r\n.then(([table, date, port]) => [table, date, ...port]);\r\n\r\nexport default all;","import {Server} from 'hapi';\r\nimport Inert from 'inert';\r\n\r\nimport __dirname from '../dirname.js';\r\nimport {config as connection} from '../package.json';\r\n\r\nimport analytics from './routes/analytics.js';\r\n\r\nimport coreCss from './routes/css-core.js';\r\nimport partialCss from './routes/css-partials.js';\r\n\r\nimport pageRoutes from './routes/pages.js';\r\nimport moduleRoutes from './routes/modules.js';\r\n\r\nconst server = new Server();\r\nserver.connection(connection);\r\n\r\nserver.path(__dirname);\r\nserver.register(Inert, err => {if (err) throw err});\r\n\r\nserver.route(analytics);\r\nserver.route(coreCss);\r\nserver.route(partialCss);\r\n\r\nconst pagesReady = pageRoutes.then(pages => server.route(pages));\r\nconst modReady = moduleRoutes.then(mods => server.route(mods));\r\n\r\nexport default server;\r\nexport const ready = \r\n\tPromise.all([pagesReady, modReady]).then(() => server)\r\n\t.catch(err => console.error(err));","import startServer from './node_modules/ubc-farm-utils/function/start-server.js';\r\nimport {ready} from './server/index.js';\r\n\r\nready.then(server => startServer(server, 'Static'));"],"names":["labels","stat","statNode","resolvePath","join","__dirname","folder","Server","connection","moduleRoutes"],"mappings":";;;;;;;;;AAAA;;AAEA,AAAe,SAAS,WAAW,CAAC,MAAM,EAAE,IAAI,EAAE;CACjD,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;;CAErB,MAAM,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,MAAM;EACzB,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,oBAAoB,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACjE,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI;EACf,OAAO,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC,CAAC;EACjD,CAAC;;;ACTH,kBAAe,SAAS;;;;ACAxB,gBAAe;CACd,MAAM,EAAE,KAAK;CACb,IAAI,EAAE,kBAAkB;CACxB,OAAO,EAAE;EACR,IAAI,EAAE,qBAAqB;EAC3B;;;ACLK,MAAM,IAAI,GAAG;CACnB,MAAM,EAAE,KAAK;CACb,IAAI,EAAE,oBAAoB;CAC1B,OAAO,EAAE;EACR,SAAS,EAAE;GACV,IAAI,EAAE,+BAA+B;GACrC,OAAO,EAAE,IAAI;GACb,gBAAgB,EAAE,KAAK;GACvB,KAAK,EAAE,KAAK;GACZ;EACD;CACD;;AAED,AAAO,MAAM,OAAO,GAAG;CACtB,MAAM,EAAE,KAAK;CACb,IAAI,EAAE,mBAAmB;CACzB,OAAO,EAAE;EACR,IAAI,EAAE,mCAAmC;EACzC;CACD;;AAED,AAAO,MAAM,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,EAAE;CACnD,IAAI,EAAE,qBAAqB;CAC3B,CAAC,CAAC;;AAEH,cAAe,CAAC,IAAI,EAAE,OAAO,EAAE,SAAS,CAAC;;ACzBzC,iBAAe;CACd,MAAM,EAAE,KAAK;CACb,IAAI,EAAE,uBAAuB;CAC7B,OAAO,EAAE;EACR,SAAS,EAAE;GACV,IAAI,EAAE,gDAAgD;GACtD,OAAO,EAAE,IAAI;GACb,gBAAgB,EAAE,KAAK;GACvB,KAAK,EAAE,KAAK;GACZ;EACD;;;ACVF,SAAS,SAAS,CAAC,KAAK,EAAE;CACzB,OAAO,CAAC,OAAO,KAAK,KAAK,QAAQ,IAAI,OAAO,KAAK,KAAK,UAAU,CAAC;IAC9D,OAAO,KAAK,CAAC,GAAG,KAAK,UAAU,CAAC;CACnC;;AAED,AAAe,SAAS,SAAS,CAAC,IAAI,EAAE;CACvC,OAAO,SAAS,GAAG,IAAI,EAAE;EACxB,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAK;GACvC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,MAAM,KAAK;IAC1B,IAAI,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;SAChB,OAAO,CAAC,MAAM,CAAC,CAAC;IACrB,CAAC,CAAC;;GAEH,MAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC;GACxC,IAAI,SAAS,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;GACvC,CAAC;EACF;;;ACFF,MAAM,QAAQ,GAAG;CAChB,aAAa;CACb,UAAU;CACV,SAAS;CACT,UAAU;CACV,YAAY;CACZ,YAAY;CACZ,iBAAiB;CACjB;;AAED,MAAMA,QAAM,GAAG,QAAQ;EACrB,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;EACnC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,AAE9C,AAoBA,AAgBA,AAkBA;;AC9EA,MAAMC,MAAI,GAAG,SAAS,CAACC,OAAQ,CAAC,CAAC;;AAEjC,SAAS,aAAa,CAAC,IAAI,EAAE;CAC5B,OAAOD,MAAI,CAAC,IAAI,CAAC;EAChB,IAAI,CAAC,MAAM,IAAI,CAAC;EAChB,KAAK,CAAC,GAAG,IAAI;EACb,IAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,EAAE,OAAO,KAAK,CAAC;OACnC,MAAM,GAAG,CAAC;EACf,CAAC,CAAC;CACH;;;;;;AAMD,AAAe,SAAS,MAAM,CAAC,MAAM,EAAE,GAAG,cAAc,EAAE;CACzD,IAAI,MAAM,KAAKE,YAAW,CAAC,GAAG,CAAC,EAAE,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;;CAEnE,MAAM,cAAc,GAAG,cAAc,CAAC,GAAG,CAAC,IAAI,IAAIC,SAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;;CAEtE,MAAM,WAAW,GAAG,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;CAE3E,OAAO,WAAW,CAAC,IAAI,CAAC,OAAO,IAAI;EAClC,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE;GACpC,MAAM,SAAS,GAAGD,YAAW,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;GAC7C,OAAO,MAAM,CAAC,SAAS,EAAE,GAAG,cAAc,CAAC,CAAC;GAC5C,MAAM;GACN,MAAM,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;GACjD,MAAM,SAAS,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC;GACxC,OAAO,SAAS,CAAC;GACjB;EACD,CAAC,CAAC;;;AC/BJ,SAAS,QAAQ,CAAC,QAAQ,EAAE,MAAM,EAAE;CACnC,OAAO;EACN,MAAM,EAAE,KAAK;EACb,IAAI,EAAE,CAAC,UAAU,EAAE,QAAQ,CAAC,SAAS,CAAC;EACtC,OAAO,EAAE;GACR,SAAS,EAAE;IACV,IAAI,EAAEC,SAAI,CAAC,MAAM,EAAE,QAAQ,CAAC;IAC5B,OAAO,EAAE,IAAI;IACb,gBAAgB,EAAE,KAAK;IACvB,KAAK,EAAE,KAAK;IACZ;GACD;EACD,CAAC;CACF;;AAED,SAAS,eAAe,CAAC,QAAQ,EAAE,MAAM,EAAE;;CAE1C,MAAM,GAAG,GAAG,OAAO,CAACA,SAAI,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC,CAAC;CAClD,MAAM,EAAE,OAAO,EAAE,IAAI,GAAG,oBAAoB,EAAE,GAAG,GAAG,CAAC;;CAErD,OAAO;EACN;GACC,MAAM,EAAE,KAAK;GACb,IAAI,EAAE,CAAC,SAAS,EAAE,QAAQ,CAAC,SAAS,CAAC;GACrC,OAAO,EAAE;IACR,SAAS,EAAE;KACV,IAAI,EAAEA,SAAI,CAAC,MAAM,EAAE,MAAM,CAAC;KAC1B,OAAO,EAAE,IAAI;KACb,gBAAgB,EAAE,IAAI;KACtB,KAAK,EAAE,KAAK;KACZ;IACD;GACD;EACD;GACC,MAAM,EAAE,KAAK;GACb,IAAI,EAAE,CAAC,SAAS,EAAE,QAAQ,CAAC,SAAS,CAAC;GACrC,OAAO,EAAE;IACR,IAAI,EAAE;KACL,IAAI,EAAEA,SAAI,CAAC,MAAM,EAAE,IAAI,CAAC;KACxB,OAAO,EAAE,KAAK;KACd;IACD;GACD;EACD,CAAC;CACF;;AAED,MAAM,MAAM,GAAGA,SAAI,CAACC,WAAS,EAAE,cAAc,CAAC,CAAC;AAC/C,SAAS,qBAAqB,CAAC,QAAQ,EAAE;CACxC,OAAO,MAAM,CAAC,MAAM,EAAE,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAC,EAAE,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC;GACpE,IAAI,CAAC,IAAI,IAAI;GACb,IAAI,IAAI,KAAK,SAAS,EAAE,MAAM,IAAI,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;GACjE,OAAO,CAAC,GAAG,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,EAAE,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC;GACtE,CAAC,CAAC;CACJ;;AAED,MAAM,QAAQ,GAAG;CAChB,UAAU;CACV,WAAW;CACX,QAAQ;CACR,SAAS;CACT,YAAY;CACZ,WAAW;CACX,CAAC;;AAEF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAAC;;AAEhE,iBAAe,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM;CACvC,CAAC,SAAS,GAAG,EAAE,EAAE,UAAU,KAAK,CAAC,GAAG,SAAS,EAAE,GAAG,UAAU,CAAC;CAC7D,CAAC,CAAC;;ACpEH,MAAMC,QAAM,GAAGF,SAAI,CAACC,WAAS,EAAE,cAAc,CAAC,CAAC;AAC/C,SAAS,YAAY,CAAC,IAAI,EAAE;CAC3B,OAAO,MAAM,CAACC,QAAM,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI;EAC5D,IAAI,IAAI,KAAK,SAAS,EAAE,MAAM,IAAI,KAAK,CAAC,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;OAC7D,OAAO,IAAI,CAAC;EACjB,CAAC;CACF;;AAED,AAAM,MAAA,MAAM,GAAG,KAAK,CAAA;AAAE,MAAA,OAAO,GAAG,IAAI,CAAA;AAAE,MAAA,KAAK,GAAG,KAAK,CAAA;AAEnD,MAAM,SAAS,GAAG,YAAY,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC;CAC5D,MAAM,EAAE,IAAI,EAAE,iCAAiC;CAC/C,OAAO,EAAE;EACR,SAAS,EAAE;GACV,IAAI,EAAEF,SAAI,CAAC,MAAM,EAAE,QAAQ,CAAC;GAC5B,OAAO,EAAE,KAAK;GACd,gBAAgB,EAAE,KAAK;GACvB;EACD;CACD,CAAC,CAAC;;AAEH,MAAM,QAAQ,GAAG,YAAY,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC;CAChE,MAAM,EAAE,IAAI,EAAE,sCAAsC;CACpD,OAAO,EAAE;EACR,SAAS,EAAE;GACV,IAAI,EAAEA,SAAI,CAAC,MAAM,EAAE,QAAQ,CAAC;GAC5B,OAAO,EAAE,KAAK;GACd,gBAAgB,EAAE,KAAK;GACvB;EACD;CACD,CAAC,CAAC;;AAEH,MAAM,KAAK,GAAG,YAAY,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI;CAClD,MAAM,IAAI,GAAG;EACZ,MAAM,EAAE,IAAI,EAAE,yBAAyB;EACvC,OAAO,EAAE;GACR,IAAI,EAAE;IACL,IAAI,EAAEA,SAAI,CAAC,MAAM,EAAE,eAAe,CAAC;IACnC,OAAO,EAAE,KAAK;IACd;GACD;EACD,CAAC;;CAEF,MAAM,cAAc,GAAG;EACtB,MAAM,EAAE,IAAI,EAAE,mCAAmC;EACjD,OAAO,EAAE;GACR,SAAS,EAAE;IACV,IAAI,EAAEA,SAAI,CAAC,MAAM,EAAE,mBAAmB,CAAC;IACvC,KAAK,EAAE,OAAO,EAAE,KAAK;IACrB,gBAAgB,EAAE,KAAK;IACvB;GACD;EACD;;CAED,MAAM,aAAa,GAAG;EACrB,MAAM;EACN,IAAI,EAAE,KAAK,GAAG,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC;EACvD,OAAO,EAAE;GACR,SAAS,EAAE,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,cAAc,CAAC,OAAO,CAAC,SAAS,EAAE;IAC9D,gBAAgB,EAAE,IAAI;IACtB,CAAC;GACF;EACD;;CAED,OAAO,CAAC,IAAI,EAAE,cAAc,EAAE,aAAa,CAAC,CAAC;CAC7C,CAAC;;AAEF,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;CACpD,IAAI,CAAC,CAAC,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,AAEvD;;AC5DA,MAAM,MAAM,GAAG,IAAIG,WAAM,EAAE,CAAC;AAC5B,MAAM,CAAC,UAAU,CAACC,MAAU,CAAC,CAAC;;AAE9B,MAAM,CAAC,IAAI,CAACH,WAAS,CAAC,CAAC;AACvB,MAAM,CAAC,QAAQ,CAAC,KAAK,EAAE,GAAG,IAAI,CAAC,IAAI,GAAG,EAAE,MAAM,GAAG,CAAC,CAAC,CAAC;;AAEpD,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;AACxB,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AACtB,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;;AAEzB,MAAM,UAAU,GAAG,UAAU,CAAC,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;AACjE,MAAM,QAAQ,GAAGI,GAAY,CAAC,IAAI,CAAC,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;;AAE/D,AACA,AAAO,MAAM,KAAK;CACjB,OAAO,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,MAAM,CAAC;EACrD,KAAK,CAAC,GAAG,IAAI,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;AC3BlC,KAAK,CAAC,IAAI,CAAC,MAAM,IAAI,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC"}